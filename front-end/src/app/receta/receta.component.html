<body class="body">
    <div class="container body-receta" *ngIf="DetallesReceta">

        <!-- Titulo de la receta -->
        <div class="container-fluid recipe-title titulo-pag">
            <div class="row">
                <div class="col recipe-title">
                    <h1>{{DetallesReceta.nombre}} - {{DetallesReceta.tipo_receta}}</h1>
                </div>
            </div>
        </div>

        <hr class="border border-1 opacity-50">
        
        <!-- Valoración de la receta -->
        <div class="row">
            <div class="col receta-valoracion"> 
                <a ngbTooltip="Valoración" placement="bottom">
                    <span class="material-symbols-outlined estrella" [ngClass]="{'fill':valoracion>=1}" >star</span>
                    <span class="material-symbols-outlined estrella" [ngClass]="{'fill':valoracion>=2}" >star</span>
                    <span class="material-symbols-outlined estrella" [ngClass]="{'fill':valoracion>=3}" >star</span>
                    <span class="material-symbols-outlined estrella" [ngClass]="{'fill':valoracion>=4}" >star</span>
                    <span class="material-symbols-outlined estrella" [ngClass]="{'fill':valoracion>=5}" >star</span>
                </a>
            </div>
        </div>

        <!-- Información de la receta -->
        <div class="row">

            <!-- Card de la receta (similar al menu de home)  -->
            <div class="col-xs-12 col-md-6 col-xl-5 order-first ">
                <div class="container-fluid text-center card-recipe-style rounded-2">
                    <div class="row" >
                      <div class="col">
                        <div class="container">
                          <img src="{{DetallesReceta.imagen}}" width="100%" height="auto" class="img-fluid" alt="{{DetallesReceta.nombre}}">
                        </div>
                      </div>
                    </div>

                    <hr class="border border-1 opacity-50">

                    <div class="row" >
                      <div class="col">
                        <h2>{{DetallesReceta.nombre}}</h2> 
                      </div>
                    </div>
                
                    <div class="row justify-content-center">
                        <div class="col-3 icon-recipe"> 
                            <span class="material-symbols-outlined fill" ngbTooltip="Tiempo de preparación" placement="top">timer</span>
                            <h5>{{DetallesReceta.tiempo}}'</h5>
                        </div>  
                        
                        <div class="col-3 icon-recipe">
                            <span class="material-symbols-outlined fill" ngbTooltip="Monto aproximado" placement="top">attach_money</span>
                            <h5>{{DetallesReceta.valor}}</h5>
                        </div>

                        <div class="col-3 icon-recipe">
                            <span class="material-symbols-outlined fill" ngbTooltip="Porciones " placement="top">person</span>
                            <h5>{{DetallesReceta.porcion}}</h5>
                        </div>

                        <div class="col-3 icon-recipe">
                            <span class="material-symbols-outlined fill" ngbTooltip="Dificultad de preparación" placement="top"> warning </span>
                            <h5>{{DetallesReceta.dificultad}}</h5>
                        </div>

                    </div>
                      
                
                </div>
            </div>
            
            <!-- Ingredientes de la receta 
            <div class="col">
                <table class="table">
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">Cantidad</th>
                        <th scope="col">Ingredientes</th>
                    </tr>
                    </thead>
                    <tbody class="">
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[0]}}</th>
                            <td>{{recipedetail.ingredients[1]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[2]}}</th>
                            <td>{{recipedetail.ingredients[3]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[4]}}</th>
                            <td>{{recipedetail.ingredients[5]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[6]}}</th>
                            <td>{{recipedetail.ingredients[7]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[8]}}</th>
                            <td>{{recipedetail.ingredients[9]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[10]}}</th>
                            <td>{{recipedetail.ingredients[11]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[12]}}</th>
                            <td>{{recipedetail.ingredients[13]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">{{recipedetail.ingredients[14]}}</th>
                            <td>{{recipedetail.ingredients[15]}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Utencilios de la receta  
            <div class="col">
                <table class="table">
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">Utensilios</th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td scope="row">{{recipedetail.utensil[0]}}</td>
                        </tr>
                        <tr>
                            <td scope="row">{{recipedetail.utensil[1]}}</td>
                        </tr>
                        <tr>
                            <td scope="row">{{recipedetail.utensil[2]}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        -->
        </div>
    
        <div class="row ">
            <div class="col description-style">
                <h4>Descripción</h4>
                <h5>{{DetallesReceta.descripcion}}</h5>
            </div>

            <div class="col description-style">
                <h4>Tabla Nutricional</h4>
                <h5>Calorías: {{DetallesReceta.calorias}}</h5>
            </div>
        </div>
   
        <hr class="border border-1 opacity-50">

        <!-- Mediante la directiva ngFor se obtienen los pasoreceta de PasosReceta -->
        <div class="container-fluid" *ngFor="let pasoreceta of PasosReceta">
            <div class="container-fluid step-card-style rounded-2">
                <!-- se crea el componente paso receta y a su variable pasoreceta se le entrega el valor pasoreceta obtenido de ngFor-->
                <app-paso-receta [pasoreceta]="pasoreceta"></app-paso-receta>
            </div>
            
        </div>

        <hr class="border border-1 opacity-50">
        
        <div class="container-fluid video-card">
            <div class="row text-center">
                <div class="col-12">
                    <h3>Video Guía</h3> 
                </div>
                <div class="col-12">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/qL_eOnBgC-E" title="Video de la receta" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>
        </div>

        <div class="container-fluid rating-card">
            <div class="row text-center">
                <div class="col-12">
                    <h5>Evalúa la receta</h5>
                </div>
                <div class="col-12">
                    <h2>{{DetallesReceta.nombre}}</h2> 
                </div>
                <div class="row mx-auto">
                    <div class="col"> 
                        <span class="material-symbols-outlined not-fill" id="first-star">star</span>
                        <span class="material-symbols-outlined not-fill" id="second-star">star</span>
                        <span class="material-symbols-outlined not-fill" id="third-star">star</span>
                        <span class="material-symbols-outlined not-fill" id="fourth-star">star</span>
                        <span class="material-symbols-outlined not-fill" id="fifth-star">star</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>